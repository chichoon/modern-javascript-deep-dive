# 변수(variable)

- 메모리(memory): 데이터를 저장할 수 있는 메모리 셀(memory cell)로 셀 하나당 크기는 1바이트(8비트)이므로 컴퓨터는 1바이트 단위로 데이터를 저장(write)하거나 읽는(read)다.
- 각 셀은 고유의 메모리 주소(memory address)를 가지는데 메모리의 크기만큼 정수로 표현되며 **모든 데이터(숫자, 텍스트, 이미지, 동영상 등)는 모두 2진수로 저장**된다.
- 메모리 주소를 통해 값에 직접 접근하는 것은 위험하기 때문에 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않는다.
- 이에 하나의 값을 저장하기 위해 확보한 메모리 공간 차제 혹은 그 메모리 공간을 식별하기 위해 붙인 이름, 즉, **값의 위치를 가리키는** 상징적인 이름인 변수를 사용한다.
- 변수는 컴파일러 또는 인터프리터에 의해 값이 저장된 메모리 공간의 주소로 치환되어 실행된다.

  > - 할당(assignment, 대입, 저장): 변수에 값을 저장한다.
  >
  > - 참조(reference): 변수에 저장된 값을 읽어 들인다.
  >
  > - 식별자(identifier): 변수 이름을 일컬으며 어떤 값을 구별해서 식별할 수 있는 고유한 이름으로 값이 아닌 **메모리 주소를 기억**하고 있는다.

- 변수 및 함수 선언시 이름은 카멜 케이스를 사용하고, 생성자 함수 및 클래스의 이름에는 파스칼 케이스를 사용한다.

  ```javascript
  var variableName; // camel case

  var ClassName; // pascal case
  ```

## 변수 선언(variable declaration)

- 선언하지 않은 식별자에 접근하면, 자바스크립트 엔진이 등록된 식별자를 찾을 수 없을 때 발생하는 에러인 `ReferenceError(참조 에러)`가 발생한다.
- 선언으로 자바스크립트 엔진에 식별자의 존재를 알린다.
- 선언으로 확보된 메모리 공간은 자바스크립트 엔진에 의해 **undefined라는 값이 암묵적으로 할당**되어 초기화된다.

  > 초기화(initialization): 변수가 선언된 이후 최초로 값을 할당하는 것을 말하며, 이 과정을 거치지 않으면 선언된 메모리 값에는 이전에 다른 애플리케이션이 사용했던 값(쓰레기 값; garbage value)가 남아있을 수 있다.

- `var`

  - 선언 - 초기화가 동시에 진행된다.
  - 블록 레벨 스코프(block-level scope)를 지원하지 않고 함수 레벨 스코프(function-level scope)를 지원한다.
  - 이러한 단점을 개선하기 위해 ES6에서 `let`과 `const` 키워드가 추가되었다.

    > 키워드? 자바스크립트 코드를 해석하고 실행하는 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어

- `let`
- `const`

  - 상수를 표현하는 키워드

- 변수에 저장된 값을 변경(재할당)할 수 없다면 변수가 아닌 상수(constraint)라고 한다.
- 더이상 사용하지 않는 값은 가비지 컬렉터에 의해 자동으로 메모리가 해제된다.

  > 가비지 컬렉터(garbage collector)
  >
  > - 애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제한다.
  >
  > - 자바스크립트는 가비지 콜렉터를 내장하고 있는 매니지드 언어(managed language)로 가비지 컬렉터를 통해 메모리 누수(memory leak)를 방지한다.

  > 매니지드 언어(managed language) vs 언매니지드 언어(unmanaged language)
  >
  > - 메모리 관리 방식에 따라 분류한다.
  >
  > - 매니지드 언어(JavaScript, Python): 언어 차원에서 메모리 관리(가비지 컬렉터)를 한다.
  >
  > - 언매니지드 언어(C, C++): 개발자가 명시적으로 메모리를 할당하고 해제할 수 있어 역량에 따라 최적의 성능을 확보할 수 있다.

### 변수 호이스팅(variable hoisting)

- 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징.
- 자바스크립트 엔진은 소스코드를 순차적으로 실행하기 전, **모든 선언문(변수, 함수 선언)을 소스코드에서 찾아내 먼저 실행**하는 소스코드의 평가 과정을 거친다.
- 소스코드 평가 과정이 끝나면 모든 선언문을 제외하고 소스코드를 순차적으로 실행한다.

  ```javascript
  console.log(num); // undefined

  var num; // variable declaration
  ```

- 변수 선언은 런타임 이전에 먼저 실행되지만 값의 **할당은 런타임(소스코드가 순차적으로 실행되는 시점)에 실행**된다.

  ```javascript
  console.log(num); // undefined

  var num = 80; // variable declaration, assignment
  console.log(num); // 80
  ```
